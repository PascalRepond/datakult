/* EasyMDE styling - Compatible with DaisyUI themes */

.EasyMDEContainer .CodeMirror {
    background-color: var(--color-base-100);
    color: var(--color-base-content);
    border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
}

.cm-s-easymde .cm-quote {
    color: color-mix(in oklch, var(--color-base-content) 70%, transparent);
}

.cm-s-easymde .cm-link {
    color: var(--color-secondary);
}

.cm-s-easymde .cm-url {
    color: color-mix(in oklch, var(--color-secondary) 70%, transparent);
}

.cm-s-easymde .cm-string {
    color: var(--color-accent);
}

/* Apply dark styles when datakult-dark theme is active */
/* Support both explicit theme selection AND system preference */

/* Text selection - use primary color with transparency for better visibility */
[data-theme="datakult-dark"] .EasyMDEContainer .CodeMirror-selected {
    background-color: color-mix(in oklch, var(--color-primary) 30%, transparent) !important;
}

[data-theme="datakult-dark"] .CodeMirror-focused .CodeMirror-selected {
    background-color: color-mix(in oklch, var(--color-primary) 40%, transparent) !important;
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .EasyMDEContainer .CodeMirror-selected {
        background-color: color-mix(in oklch, var(--color-primary) 30%, transparent) !important;
    }

    html:not([data-theme]) .CodeMirror-focused .CodeMirror-selected {
        background-color: color-mix(in oklch, var(--color-primary) 40%, transparent) !important;
    }
}

[data-theme="datakult-dark"] .EasyMDEContainer .CodeMirror-cursor {
    border-left-color: var(--color-base-content) !important;
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .EasyMDEContainer .CodeMirror-cursor {
        border-left-color: var(--color-base-content) !important;
    }
}

/* Editor toolbar dark mode */
[data-theme="datakult-dark"] .editor-toolbar {
    background-color: var(--color-base-300);
    border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .editor-toolbar {
        background-color: var(--color-base-300);
        border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
    }
}

[data-theme="datakult-dark"] .editor-toolbar button {
    color: var(--color-base-content);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .editor-toolbar button {
        color: var(--color-base-content);
    }
}

[data-theme="datakult-dark"] .editor-toolbar button:hover,
[data-theme="datakult-dark"] .editor-toolbar button.active {
    background-color: var(--color-base-200);
    border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .editor-toolbar button:hover,
    html:not([data-theme]) .editor-toolbar button.active {
        background-color: var(--color-base-200);
        border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
    }
}

[data-theme="datakult-dark"] .editor-toolbar i.separator {
    border-left-color: var(--color-base-300);
    border-right-color: var(--color-base-100);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .editor-toolbar i.separator {
        border-left-color: var(--color-base-300);
        border-right-color: var(--color-base-100);
    }
}

/* Fullscreen mode dark */
[data-theme="datakult-dark"] .CodeMirror-fullscreen {
    background-color: var(--color-base-100);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .CodeMirror-fullscreen {
        background-color: var(--color-base-100);
    }
}

[data-theme="datakult-dark"] .editor-toolbar.fullscreen {
    background-color: var(--color-base-300);
}

@media (prefers-color-scheme: dark) {
    html:not([data-theme]) .editor-toolbar.fullscreen {
        background-color: var(--color-base-300);
    }
}